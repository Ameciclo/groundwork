# ============================================================================
# Terraform Variables Example
# ============================================================================
# Copy this file to terraform.tfvars and fill in your values
# IMPORTANT: Never commit terraform.tfvars to git (it contains secrets)
#
# For sensitive values, use environment variables instead:
# export TF_VAR_azure_subscription_id="your-subscription-id"
# export TF_VAR_azure_client_id="your-client-id"
# export TF_VAR_azure_client_secret="your-client-secret"
# export TF_VAR_azure_tenant_id="your-tenant-id"
# export TF_VAR_postgresql_admin_password="your-postgres-password"
# export TF_VAR_admin_ssh_public_key="your-ssh-public-key"

# ============================================================================
# General Configuration
# ============================================================================
environment  = "production"
region       = "eastus2"  # Changed from eastus (PostgreSQL not available there)
project_name = "ameciclo"

# ============================================================================
# Resource Group
# ============================================================================
resource_group_name = "ameciclo-rg"

# ============================================================================
# Virtual Network
# ============================================================================
vnet_name          = "ameciclo-vnet"
vnet_address_space = ["10.10.0.0/16"]

# VM Subnet
vm_subnet_name   = "vm-subnet"
vm_subnet_prefix = ["10.10.3.0/24"]

# Database Subnet
database_subnet_name   = "database-subnet"
database_subnet_prefix = ["10.10.2.0/24"]

# ============================================================================
# PostgreSQL Database
# ============================================================================
postgresql_server_name    = "ameciclo-postgres"
postgresql_version        = "16"
postgresql_sku_name       = "B_Standard_B2s"  # 2 vCores, 4GB RAM, ~$24.70/month
postgresql_storage_mb     = 32768             # 32 GB
postgresql_admin_username = "psqladmin"
# postgresql_admin_password = Set via TF_VAR_postgresql_admin_password

# ============================================================================
# Storage Account
# ============================================================================
# Note: Must be globally unique and lowercase (3-24 characters)
# Change this to a unique name if you get "already exists" errors
storage_account_name             = "ameciclostorage"
storage_account_tier             = "Standard"
storage_account_replication_type = "LRS"  # Locally Redundant Storage

# ============================================================================
# Virtual Machine (K3s)
# ============================================================================
vm_name            = "ameciclo-k3s-vm"
vm_size            = "Standard_B2as_v2"  # 2 vCores, 4GB RAM, ~$40-50/month
vm_os_disk_size_gb = 30

# VM Image (Ubuntu 22.04 LTS)
vm_image_publisher = "Canonical"
vm_image_offer     = "0001-com-ubuntu-server-jammy"
vm_image_sku       = "22_04-lts-gen2"
vm_image_version   = "latest"

# Admin username
admin_username = "azureuser"
# admin_ssh_public_key = Set via TF_VAR_admin_ssh_public_key

# ============================================================================
# K3s Configuration
# ============================================================================
k3s_enabled       = true
k3s_version       = "v1.32.4+k3s1"
k3s_subnet_prefix = ["10.20.1.0/24"]
azure_region      = "westus3"

# ============================================================================
# Tags
# ============================================================================
tags = {
  Environment = "production"
  Project     = "ameciclo"
  ManagedBy   = "terraform"
  CostCenter  = "ameciclo-infrastructure"
}

